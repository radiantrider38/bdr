<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>// BDR MASSACRE VISUALS - CLASSIFIED ARCHIVE //</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --blood-red: #8a0303;
            --dark-red: #5a0000;
            --accent-red: #ff003c;
            --black: #0a0a0a;
            --dark-bg: #0f0a0a;
            --panel-bg: #1a0f0f;
            --scan-line: rgba(255, 0, 60, 0.1);
        }

        body {
            background-color: var(--black);
            color: #e5e5e5;
            font-family: 'Rajdhani', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        .font-tech { font-family: 'Share Tech Mono', monospace; }
        .font-rajdhani { font-family: 'Rajdhani', sans-serif; }

        /* Red Scan Lines */
        .scanlines {
            position: fixed;
            inset: 0;
            background: linear-gradient(
                to bottom,
                transparent 50%,
                var(--scan-line) 51%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9998;
            animation: scan 8s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(4px); }
        }

        /* Digital Noise Overlay */
        .noise {
            position: fixed;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 9997;
            opacity: 0.03;
        }

        /* Blood Splatter Effect */
        .blood-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 9996;
            opacity: 0.02;
            background-image: 
                radial-gradient(circle at 20% 30%, var(--blood-red) 1px, transparent 2px),
                radial-gradient(circle at 80% 70%, var(--blood-red) 1px, transparent 2px),
                radial-gradient(circle at 40% 60%, var(--accent-red) 1px, transparent 2px);
            background-size: 200px 200px, 300px 300px, 250px 250px;
        }

        /* Main Container with Red Glow */
        .blood-container {
            position: relative;
            background: linear-gradient(145deg, #0a0a0a 0%, #150a0a 100%);
            border: 1px solid rgba(138, 3, 3, 0.3);
            box-shadow: 
                0 0 40px rgba(138, 3, 3, 0.2),
                inset 0 0 20px rgba(138, 3, 3, 0.05);
        }

        /* Header with Blood Theme */
        .blood-header {
            background: linear-gradient(180deg, rgba(15, 5, 5, 0.95) 0%, rgba(10, 2, 2, 0.9) 100%);
            border-bottom: 1px solid rgba(138, 3, 3, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .blood-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent-red), transparent);
            animation: header-scan 3s linear infinite;
        }

        @keyframes header-scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* New Blood Red Slideshow */
        .blood-slideshow {
            position: relative;
            width: 95%;
            max-width: 1400px;
            margin: 0 auto;
            perspective: 1000px;
        }

        .slide-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            overflow: hidden;
            transform-style: preserve-3d;
        }

        .blood-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transform: translateZ(-100px) rotateX(5deg);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .blood-slide.active {
            opacity: 1;
            transform: translateZ(0) rotateX(0);
            z-index: 10;
        }

        /* Blood Red Frame with Animated Border */
        .blood-frame {
            position: absolute;
            inset: 20px;
            border: 2px solid transparent;
            background: 
                linear-gradient(var(--panel-bg), var(--panel-bg)) padding-box,
                linear-gradient(45deg, transparent 30%, var(--accent-red), transparent 70%) border-box;
            animation: border-glow 3s linear infinite;
        }

        @keyframes border-glow {
            0%, 100% { border-color: rgba(138, 3, 3, 0.3); }
            50% { border-color: rgba(255, 0, 60, 0.3); }
        }

        .blood-frame::before,
        .blood-frame::after {
            content: '';
            position: absolute;
            width: 40px;
            height: 40px;
            border: 2px solid var(--accent-red);
            animation: corner-pulse 2s ease-in-out infinite alternate;
        }

        .blood-frame::before {
            top: -2px;
            left: -2px;
            border-right: none;
            border-bottom: none;
        }

        .blood-frame::after {
            bottom: -2px;
            right: -2px;
            border-left: none;
            border-top: none;
        }

        @keyframes corner-pulse {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        .slide-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: 
                sepia(0.3) 
                contrast(1.2) 
                saturate(1.1)
                drop-shadow(0 0 10px rgba(138, 3, 3, 0.3));
            transition: filter 0.5s ease;
        }

        .blood-slide.active .slide-image {
            animation: image-flicker 0.3s ease-out;
        }

        @keyframes image-flicker {
            0%, 100% { filter: sepia(0.3) contrast(1.2) saturate(1.1); }
            50% { filter: sepia(0.4) contrast(1.5) saturate(1.3) brightness(1.1); }
        }

        /* Red Navigation Buttons */
        .blood-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 50;
            background: rgba(26, 15, 15, 0.8);
            border: 2px solid var(--accent-red);
            color: var(--accent-red);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(5px);
            box-shadow: 
                0 0 20px rgba(255, 0, 60, 0.3),
                inset 0 0 15px rgba(255, 0, 60, 0.1);
        }

        .blood-nav-btn:hover {
            background: rgba(255, 0, 60, 0.2);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 
                0 0 30px rgba(255, 0, 60, 0.5),
                inset 0 0 20px rgba(255, 0, 60, 0.2);
        }

        .blood-nav-btn:active {
            transform: translateY(-50%) scale(0.95);
        }

        #prev-btn { left: -30px; }
        #next-btn { right: -30px; }

        /* Data Terminal Styling - Red Theme */
        .data-terminal {
            background: rgba(10, 5, 5, 0.9);
            border: 1px solid rgba(255, 0, 60, 0.2);
            padding: 1rem;
            font-family: 'Share Tech Mono', monospace;
            position: relative;
            overflow: hidden;
            margin-top: 1rem;
        }

        .data-terminal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent-red), transparent);
            animation: terminal-scan 2s linear infinite;
        }

        @keyframes terminal-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Blood Red Glitch Text */
        .blood-glitch {
            position: relative;
            display: inline-block;
            color: white;
            text-shadow: 
                0.05em 0 0 rgba(255, 0, 60, 0.75),
                -0.025em -0.05em 0 rgba(138, 3, 3, 0.75),
                0.025em 0.05em 0 rgba(255, 100, 100, 0.75);
            animation: blood-glitch 500ms infinite;
        }

        .blood-glitch span {
            position: absolute;
            top: 0;
            left: 0;
        }

        .blood-glitch span:first-child {
            animation: blood-glitch 650ms infinite;
            clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);
            transform: translate(-0.04em, -0.03em);
            opacity: 0.75;
        }

        .blood-glitch span:last-child {
            animation: blood-glitch 375ms infinite;
            clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);
            transform: translate(0.04em, 0.03em);
            opacity: 0.75;
        }

        @keyframes blood-glitch {
            0% { text-shadow: 0.05em 0 0 rgba(255, 0, 60, 0.75); }
            14% { text-shadow: 0.05em 0 0 rgba(255, 0, 60, 0.75); }
            15% { text-shadow: -0.05em -0.025em 0 rgba(138, 3, 3, 0.75); }
            49% { text-shadow: -0.05em -0.025em 0 rgba(138, 3, 3, 0.75); }
            50% { text-shadow: 0.025em 0.05em 0 rgba(255, 100, 100, 0.75); }
            99% { text-shadow: 0.025em 0.05em 0 rgba(255, 100, 100, 0.75); }
            100% { text-shadow: -0.025em 0 0 rgba(255, 0, 60, 0.75); }
        }

        /* Auto Loading Overlay */
        .loading-overlay {
            position: fixed;
            inset: 0;
            background: linear-gradient(45deg, #0a0a0a 0%, #150a0a 100%);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            transition: opacity 0.5s ease;
        }

        .blood-loader {
            width: 80px;
            height: 80px;
            border: 3px solid transparent;
            border-top: 3px solid var(--accent-red);
            border-radius: 50%;
            animation: blood-spin 1s linear infinite;
            position: relative;
        }

        .blood-loader::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border: 3px solid transparent;
            border-top: 3px solid var(--blood-red);
            border-radius: 50%;
            animation: blood-spin 2s linear infinite reverse;
        }

        @keyframes blood-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .blood-slideshow {
                width: 98%;
            }
            
            .blood-nav-btn {
                width: 50px;
                height: 50px;
                transform: translateY(-50%) scale(0.8);
            }
            
            #prev-btn { left: -25px; }
            #next-btn { right: -25px; }
            
            .blood-frame {
                inset: 10px;
            }
        }

        /* Blood Red Text Effect */
        .blood-text {
            color: var(--accent-red);
            text-shadow: 
                0 0 10px var(--accent-red),
                0 0 20px rgba(255, 0, 60, 0.5),
                0 0 40px rgba(138, 3, 3, 0.3);
            animation: blood-pulse 2s ease-in-out infinite alternate;
        }

        @keyframes blood-pulse {
            from { opacity: 0.8; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-black">
    <!-- Auto Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="blood-loader"></div>
        <div class="decrypt-animation mt-6">
            <span id="decryptText" class="font-tech text-blood-red text-lg">INITIALIZING CLASSIFIED ARCHIVE</span>
            <div class="text-sm text-gray-400 mt-2 font-tech">
                BDR MASSACRE VISUALS • FEBRUARY 2009
            </div>
        </div>
    </div>
    
    <!-- Visual Effects -->
    <div class="scanlines"></div>
    <div class="noise"></div>
    <div class="blood-overlay"></div>
    
    <!-- Audio Element -->
    <audio id="backgroundAudio" loop preload="auto" muted>
        <!-- Updated audio source -->
        <source src="https://github.com/radiantrider38/bdr/raw/refs/heads/images/HYDER%20HUSYN%20SONG%20%20%E0%A6%86%E0%A6%AE%E0%A6%BF%20%E0%A6%9A%E0%A6%BF%E0%A7%8E%E0%A6%95%E0%A6%BE%E0%A6%B0%20%E0%A6%95%E0%A6%B0%E0%A7%87%20%E0%A6%95%E0%A6%BE%E0%A6%81%E0%A6%A6%E0%A6%BF%E0%A6%A4%E0%A7%87%20%E0%A6%9A%E0%A6%BE%E0%A6%B9%E0%A6%BF%E0%A7%9F%E0%A6%BE%20%20BDR%20TRAGEDY%20-%20Hyder%20Husyn%20Music%20(youtube).mp3" type="audio/mp3">
    </audio>

    <!-- Header -->
    <header class="sticky top-0 z-50 py-4 blood-header">
        <div class="container mx-auto px-4">
            <div class="flex flex-col items-center">
                <div class="mb-3 px-4 py-1 border border-accent-red/30 bg-panel-bg/50 backdrop-blur-sm">
                    <span class="text-xs font-tech text-accent-red tracking-widest flex items-center gap-2">
                        <i data-lucide="shield-alert" class="w-3 h-3"></i>
                        [SECURITY CLEARANCE: MAXIMUM] 
                        <i data-lucide="alert-triangle" class="w-3 h-3 text-accent-red"></i>
                    </span>
                </div>
                
                <h1 class="text-3xl md:text-5xl lg:text-6xl font-orbitron font-black text-center mb-2 blood-glitch">
                    BDR MASSACRE VISUALS
                    <span>BDR MASSACRE VISUALS</span>
                    <span>BDR MASSACRE VISUALS</span>
                </h1>
                
                <div class="text-sm font-rajdhani uppercase tracking-widest text-gray-400 flex items-center gap-2">
                    <span class="h-2 w-2 rounded-full bg-accent-red animate-pulse"></span>
                    CLASSIFIED VISUAL ARCHIVE - 25-27 FEB 2009
                    <span class="h-2 w-2 rounded-full bg-accent-red animate-pulse"></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Slideshow -->
    <main class="flex-1 flex items-center justify-center py-8 relative z-10">
        <div class="blood-slideshow">
            <div class="slide-container">
                <!-- Slides will be dynamically inserted here -->
            </div>
            
            <button id="prev-btn" class="blood-nav-btn">
                <i data-lucide="chevron-left" class="w-8 h-8"></i>
            </button>
            <button id="next-btn" class="blood-nav-btn">
                <i data-lucide="chevron-right" class="w-8 h-8"></i>
            </button>
            
            <!-- Data Terminal Display -->
            <div class="data-terminal flex justify-between items-center">
                <div class="font-tech">
                    <div class="text-xs text-gray-500">ARCHIVE ID</div>
                    <div class="text-sm text-accent-red" id="slideId">[CLASSIFIED]</div>
                </div>
                <div class="font-tech">
                    <div class="text-xs text-gray-500">FILE STATUS</div>
                    <div class="text-sm text-blood-red" id="slideCounter">[DECRYPTING]</div>
                </div>
                <div class="font-tech">
                    <div class="text-xs text-gray-500">SECURITY LEVEL</div>
                    <div class="text-sm text-accent-red">TOP SECRET</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="py-6 border-t border-blood-red/20 relative z-10">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <div class="mb-3">
                    <div class="inline-block px-4 py-2 bg-panel-bg/50 border border-accent-red/20">
                        <span class="text-xs font-tech text-accent-red tracking-widest">
                            <i data-lucide="eye-off" class="w-3 h-3 inline mr-2"></i>
                            UNAUTHORIZED ACCESS LOGGED AND TRACED
                        </span>
                    </div>
                </div>
                <p class="text-xs font-tech text-gray-600 tracking-wider">
                    VISUAL EVIDENCE ARCHIVE • FEB 2009 • ACCESS: [REDACTED]
                </p>
            </div>
        </div>
    </footer>

    <script>
        const massacreImages = [
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/20093153030127580_10.webp", 
                id: "20093153030127580_10", 
                caption: "[GATE 01 BREACH] - INITIAL INTRUSION VECTOR",
                clearance: "LEVEL 9",
                timestamp: "06:47:32"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/4067562_5.jpg", 
                id: "4067562_5", 
                caption: "[COMMAND POST] - EARLY HOURS COMMUNICATIONS",
                clearance: "LEVEL 8",
                timestamp: "07:12:15"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/Bangladesh-mutiny-Mutinou-006.avif", 
                id: "MUTINY-006", 
                caption: "[ARMORY ANALYSIS] - NON-STANDARD AMMUNITION",
                clearance: "LEVEL 10",
                timestamp: "08:30:47"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/BDR-2009-MUTINY-1-5da7692e8dde94f243ea6d95034ac982.webp", 
                id: "BDR-MUTINY-1", 
                caption: "[DARBAR SIEGE] - PRIMARY TARGET AREA",
                clearance: "LEVEL 10",
                timestamp: "09:45:22"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/Daily-sun-27-02-2019-1.jpg", 
                id: "DAILY-SUN-27-02-2019-1", 
                caption: "[MEDIA ANALYSIS] - CONTROLLED NARRATIVE OUTPUT",
                clearance: "LEVEL 6",
                timestamp: "12:00:00"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/Type_69-IIMk.2g.jpg", 
                id: "TYPE_69-IIMK.2G", 
                caption: "[ARMORED RESPONSE] - STAND DOWN ORDER CONFIRMED",
                clearance: "LEVEL 9",
                timestamp: "14:20:33"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/bdrmtunycmnty.jpg", 
                id: "BDRMUTINYCMNTY", 
                caption: "[DECEPTION PROTOCOL] - WAGE DISPUTE COVER",
                clearance: "LEVEL 7",
                timestamp: "15:45:18"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/bef6de20-d215-11ee-b83b-0f87a864f372.jpg.webp", 
                id: "BEF6DE20-D215-11EE", 
                caption: "[TARGET IDENTIFIED] - COMMANDER SHAKIL",
                clearance: "LEVEL 10",
                timestamp: "16:30:55"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/pilkhana.jpg", 
                id: "PILKHANA", 
                caption: "[HQ STATUS] - DAY 2 SURVEILLANCE",
                clearance: "LEVEL 8",
                timestamp: "18:15:42"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/rebel-bdr-men-main-gate-headquarters-pilkhana-440nw-3563934a.jpg", 
                id: "REBEL-BDR-MEN", 
                caption: "[OPERATION ANALYSIS] - COORDINATED ACTION",
                clearance: "LEVEL 9",
                timestamp: "20:05:29"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/tm-news-748d10ed-5e76-4a5f-8aa1-c0c90b6970c1.jpg", 
                id: "TM-NEWS-748D10ED", 
                caption: "[INFORMATION CONTROL] - MEDIA BLACKOUT ACTIVE",
                clearance: "LEVEL 7",
                timestamp: "22:40:11"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/2009226154159581734_3.webp", 
                id: "2009226154159581734_3", 
                caption: "[EVIDENCE RECOVERY] - PRIMARY SITE INVESTIGATION",
                clearance: "LEVEL 10",
                timestamp: "DAY 3 10:30:00"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/4847e65bd1e483b19169d015e4b42d5f0bb30f35.webp", 
                id: "4847E65BD1E483B1", 
                caption: "[FORENSIC ANALYSIS] - DARBAR HALL EVIDENCE",
                clearance: "LEVEL 10",
                timestamp: "DAY 3 14:45:00"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/Firefighters-and-soldiers-001.avif", 
                id: "FIREFIGHTERS-001", 
                caption: "[RESCUE OPS] - JOINT FORCES DEPLOYMENT",
                clearance: "LEVEL 8",
                timestamp: "DAY 3 16:20:00"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/bangladeshi-rescue-officials-stand-alongside-four-10-440nw-7926417d.jpg", 
                id: "RESCUE-OFFICIALS", 
                caption: "[RECOVERY PHASE] - POST-SIEGE OPERATIONS",
                clearance: "LEVEL 7",
                timestamp: "DAY 4 09:15:00"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/images%20(1).jfif", 
                id: "IMAGES-1-JFIF", 
                caption: "[FIELD ASSESSMENT] - PERIMETER SECURITY",
                clearance: "LEVEL 6",
                timestamp: "DAY 4 11:30:00"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/images.jfif", 
                id: "IMAGES-JFIF", 
                caption: "[DAMAGE REPORT] - STRUCTURAL ANALYSIS",
                clearance: "LEVEL 7",
                timestamp: "DAY 4 13:45:00"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/m_id_81095_bdr_mutiny.avif", 
                id: "M_ID_81095", 
                caption: "[DETAINEE PROCESSING] - SUSPECT INTERROGATION",
                clearance: "LEVEL 9",
                timestamp: "DAY 5 08:00:00"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/ob_1740455732.jpg", 
                id: "OB_1740455732", 
                caption: "[AFTERMATH] - FAMILY NOTIFICATION PROCESS",
                clearance: "LEVEL 5",
                timestamp: "DAY 5 15:30:00"
            }
        ];

        // Initialize variables
        let currentSlide = 0;
        let autoSlideInterval;
        const autoAdvanceDelay = 5000;
        const slideContainer = document.querySelector('.slide-container');
        const slideCounter = document.getElementById('slideCounter');
        const slideId = document.getElementById('slideId');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const decryptText = document.getElementById('decryptText');

        // AUTO START - No click required
        function autoInitialize() {
            const decryptMessages = [
                "ACCESSING SECURE SERVER...",
                "DECRYPTING CLASSIFIED ARCHIVE...",
                "LOADING VISUAL EVIDENCE...",
                "INITIALIZING SLIDESHOW...",
                "BDR MASSACRE VISUALS READY"
            ];
            
            let messageIndex = 0;
            const messageInterval = setInterval(() => {
                if (messageIndex < decryptMessages.length) {
                    decryptText.textContent = decryptMessages[messageIndex];
                    messageIndex++;
                } else {
                    clearInterval(messageInterval);
                    
                    // Fade out loading overlay
                    setTimeout(() => {
                        loadingOverlay.style.opacity = '0';
                        setTimeout(() => {
                            loadingOverlay.style.display = 'none';
                            
                            // Start audio automatically
                            const audio = document.getElementById('backgroundAudio');
                            
                            // --- NEW MUSIC START LOGIC ---
                            audio.currentTime = 14; // Start from 14 seconds
                            audio.muted = false;
                            audio.volume = 0.3;
                            
                            // Auto-play with error handling
                            const playPromise = audio.play();
                            if (playPromise !== undefined) {
                                playPromise.catch(() => {
                                    // This usually happens when the browser blocks auto-play
                                    console.log("Audio autoplay blocked - will play on interaction");
                                });
                            }
                            // --- END NEW MUSIC START LOGIC ---
                            
                            // Start slideshow automatically
                            startAutoSlide();
                        }, 500);
                    }, 1000);
                }
            }, 600);
        }

        // Create slides
        function renderSlides() {
            massacreImages.forEach((file, index) => {
                const slideDiv = document.createElement('div');
                slideDiv.className = 'blood-slide';
                slideDiv.setAttribute('data-id', file.id);
                slideDiv.setAttribute('data-index', index);
                
                const frameDiv = document.createElement('div');
                frameDiv.className = 'blood-frame';
                
                const img = document.createElement('img');
                img.className = 'slide-image';
                img.src = file.url;
                img.alt = file.caption;
                img.loading = 'lazy';
                
                frameDiv.appendChild(img);
                slideDiv.appendChild(frameDiv);
                slideContainer.appendChild(slideDiv);
            });
            
            // Initialize first slide
            slideContainer.children[0].classList.add('active');
            updateTerminal();
        }

        // Slide transition
        function transitionSlide(newIndex, direction = 'next') {
            const oldSlide = slideContainer.children[currentSlide];
            const newSlide = slideContainer.children[newIndex];
            
            if (!oldSlide || !newSlide) return;
            
            oldSlide.classList.remove('active');
            newSlide.classList.add('active');
            
            currentSlide = newIndex;
            updateTerminal();
        }

        function nextSlide() {
            const nextIndex = (currentSlide + 1) % massacreImages.length;
            transitionSlide(nextIndex, 'next');
        }

        function prevSlide() {
            const prevIndex = (currentSlide - 1 + massacreImages.length) % massacreImages.length;
            transitionSlide(prevIndex, 'prev');
        }

        function startAutoSlide() {
            if (autoSlideInterval) clearInterval(autoSlideInterval);
            autoSlideInterval = setInterval(nextSlide, autoAdvanceDelay);
        }

        function stopAutoSlide() {
            if (autoSlideInterval) clearInterval(autoSlideInterval);
        }

        // Update terminal display
        function updateTerminal() {
            const file = massacreImages[currentSlide];
            slideId.textContent = `[${file.id}]`;
            slideCounter.innerHTML = `
                <span class="text-accent-red">FILE ${currentSlide + 1}/${massacreImages.length}</span>
                <span class="text-gray-500 ml-2">// LEVEL: ${file.clearance}</span>
            `;
            
            // Update caption in data terminal
            const terminalContainer = document.querySelector('.data-terminal');
            const existingCaption = terminalContainer.querySelector('.caption');
            
            if (existingCaption) {
                existingCaption.innerHTML = `
                    <span class="text-accent-red">${file.caption}</span>
                    <span class="text-gray-600 ml-2">// ${file.timestamp}</span>
                `;
            } else {
                const captionDiv = document.createElement('div');
                captionDiv.className = 'caption font-tech text-sm text-gray-400 mt-2 flex-1 text-center';
                captionDiv.innerHTML = `
                    <span class="text-accent-red">${file.caption}</span>
                    <span class="text-gray-600 ml-2">// ${file.timestamp}</span>
                `;
                
                const counterDiv = terminalContainer.querySelector('#slideCounter').parentElement;
                terminalContainer.insertBefore(captionDiv, counterDiv.nextSibling);
            }
        }

        // Initialize everything
        window.onload = function() {
            lucide.createIcons();
            renderSlides();
            
            // Start automatically without click
            setTimeout(autoInitialize, 100);
            
            // Event Listeners for manual control
            document.getElementById('next-btn').addEventListener('click', () => {
                nextSlide();
                stopAutoSlide();
                startAutoSlide();
            });
            
            document.getElementById('prev-btn').addEventListener('click', () => {
                prevSlide();
                stopAutoSlide();
                startAutoSlide();
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                switch(e.key) {
                    case 'ArrowRight':
                    case ' ':
                        nextSlide();
                        stopAutoSlide();
                        startAutoSlide();
                        break;
                    case 'ArrowLeft':
                        prevSlide();
                        stopAutoSlide();
                        startAutoSlide();
                        break;
                }
            });
            
            // Touch/swipe support
            let touchStartX = 0;
            let touchEndX = 0;
            
            slideContainer.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            slideContainer.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const difference = touchStartX - touchEndX;
                
                if (Math.abs(difference) > swipeThreshold) {
                    if (difference > 0) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                    stopAutoSlide();
                    startAutoSlide();
                }
            }
            
            // Auto-start audio on first click if blocked
            document.addEventListener('click', () => {
                const audio = document.getElementById('backgroundAudio');
                if (audio.paused) {
                    audio.play().catch(e => console.log("Audio play requires user interaction"));
                }
            }, { once: true });
        };
    </script>
</body>
</html>
