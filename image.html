<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>// BDR MASSACRE VISUALS - CLASSIFIED ARCHIVE //</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --blood-red: #8a0303;
            --dark-red: #5a0000;
            --accent-red: #ff003c;
            --black: #0a0a0a;
            --dark-bg: #0f0a0a;
            --panel-bg: #1a0f0f;
            --scan-line: rgba(255, 0, 60, 0.1);
        }

        body {
            background-color: var(--black);
            color: #e5e5e5;
            font-family: 'Rajdhani', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .font-orbitron { font-family: 'Orbitron', sans-serif; }
        .font-tech { font-family: 'Share Tech Mono', monospace; }
        .font-rajdhani { font-family: 'Rajdhani', sans-serif; }

        /* Red Scan Lines */
        .scanlines {
            position: fixed;
            inset: 0;
            background: linear-gradient(
                to bottom,
                transparent 50%,
                var(--scan-line) 51%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9998;
            animation: scan 8s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(4px); }
        }

        /* Digital Noise Overlay */
        .noise {
            position: fixed;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 9997;
            opacity: 0.03;
        }

        /* Blood Splatter Effect */
        .blood-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 9996;
            opacity: 0.02;
            background-image: 
                radial-gradient(circle at 20% 30%, var(--blood-red) 1px, transparent 2px),
                radial-gradient(circle at 80% 70%, var(--blood-red) 1px, transparent 2px),
                radial-gradient(circle at 40% 60%, var(--accent-red) 1px, transparent 2px);
            background-size: 200px 200px, 300px 300px, 250px 250px;
        }

        /* Main Container with Red Glow */
        .blood-container {
            position: relative;
            background: linear-gradient(145deg, #0a0a0a 0%, #150a0a 100%);
            border: 1px solid rgba(138, 3, 3, 0.3);
            box-shadow: 
                0 0 40px rgba(138, 3, 3, 0.2),
                inset 0 0 20px rgba(138, 3, 3, 0.05);
        }

        /* Header with Blood Theme */
        .blood-header {
            background: linear-gradient(180deg, rgba(15, 5, 5, 0.95) 0%, rgba(10, 2, 2, 0.9) 100%);
            border-bottom: 1px solid rgba(138, 3, 3, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .blood-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent-red), transparent);
            animation: header-scan 3s linear infinite;
        }

        @keyframes header-scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* New Blood Red Slideshow */
        .blood-slideshow {
            position: relative;
            width: 95%;
            max-width: 1400px;
            margin: 0 auto;
            perspective: 1000px;
        }

        .slide-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            overflow: hidden;
            transform-style: preserve-3d;
        }

        .blood-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transform: translateZ(-100px) rotateX(5deg);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .blood-slide.active {
            opacity: 1;
            transform: translateZ(0) rotateX(0);
            z-index: 10;
        }

        /* Blood Red Frame with Animated Border */
        .blood-frame {
            position: absolute;
            inset: 20px;
            border: 2px solid transparent;
            background: 
                linear-gradient(var(--panel-bg), var(--panel-bg)) padding-box,
                linear-gradient(45deg, transparent 30%, var(--accent-red), transparent 70%) border-box;
            animation: border-glow 3s linear infinite;
        }

        @keyframes border-glow {
            0%, 100% { border-color: rgba(138, 3, 3, 0.3); }
            50% { border-color: rgba(255, 0, 60, 0.3); }
        }

        .blood-frame::before,
        .blood-frame::after {
            content: '';
            position: absolute;
            width: 40px;
            height: 40px;
            border: 2px solid var(--accent-red);
            animation: corner-pulse 2s ease-in-out infinite alternate;
        }

        .blood-frame::before {
            top: -2px;
            left: -2px;
            border-right: none;
            border-bottom: none;
        }

        .blood-frame::after {
            bottom: -2px;
            right: -2px;
            border-left: none;
            border-top: none;
        }

        @keyframes corner-pulse {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        .slide-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: 
                sepia(0.3) 
                contrast(1.2) 
                saturate(1.1)
                drop-shadow(0 0 10px rgba(138, 3, 3, 0.3));
            transition: filter 0.5s ease;
        }

        .blood-slide.active .slide-image {
            animation: image-flicker 0.3s ease-out;
        }

        @keyframes image-flicker {
            0%, 100% { filter: sepia(0.3) contrast(1.2) saturate(1.1); }
            50% { filter: sepia(0.4) contrast(1.5) saturate(1.3) brightness(1.1); }
        }

        /* Red Navigation Buttons */
        .blood-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 50;
            background: rgba(26, 15, 15, 0.8);
            border: 2px solid var(--accent-red);
            color: var(--accent-red);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(5px);
            box-shadow: 
                0 0 20px rgba(255, 0, 60, 0.3),
                inset 0 0 15px rgba(255, 0, 60, 0.1);
        }

        .blood-nav-btn:hover {
            background: rgba(255, 0, 60, 0.2);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 
                0 0 30px rgba(255, 0, 60, 0.5),
                inset 0 0 20px rgba(255, 0, 60, 0.2);
        }

        .blood-nav-btn:active {
            transform: translateY(-50%) scale(0.95);
        }

        #prev-btn { left: -30px; }
        #next-btn { right: -30px; }

        /* Blood Red Glitch Text */
        .blood-glitch {
            position: relative;
            display: inline-block;
            color: white;
            text-shadow: 
                0.05em 0 0 rgba(255, 0, 60, 0.75),
                -0.025em -0.05em 0 rgba(138, 3, 3, 0.75),
                0.025em 0.05em 0 rgba(255, 100, 100, 0.75);
            animation: blood-glitch 500ms infinite;
        }

        .blood-glitch span {
            position: absolute;
            top: 0;
            left: 0;
        }

        .blood-glitch span:first-child {
            animation: blood-glitch 650ms infinite;
            clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);
            transform: translate(-0.04em, -0.03em);
            opacity: 0.75;
        }

        .blood-glitch span:last-child {
            animation: blood-glitch 375ms infinite;
            clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);
            transform: translate(0.04em, 0.03em);
            opacity: 0.75;
        }

        @keyframes blood-glitch {
            0% { text-shadow: 0.05em 0 0 rgba(255, 0, 60, 0.75); }
            14% { text-shadow: 0.05em 0 0 rgba(255, 0, 60, 0.75); }
            15% { text-shadow: -0.05em -0.025em 0 rgba(138, 3, 3, 0.75); }
            49% { text-shadow: -0.05em -0.025em 0 rgba(138, 3, 3, 0.75); }
            50% { text-shadow: 0.025em 0.05em 0 rgba(255, 100, 100, 0.75); }
            99% { text-shadow: 0.025em 0.05em 0 rgba(255, 100, 100, 0.75); }
            100% { text-shadow: -0.025em 0 0 rgba(255, 0, 60, 0.75); }
        }

        /* Auto Loading Overlay */
        .loading-overlay {
            position: fixed;
            inset: 0;
            background: linear-gradient(45deg, #0a0a0a 0%, #150a0a 100%);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            transition: opacity 0.5s ease;
        }

        .blood-loader {
            width: 80px;
            height: 80px;
            border: 3px solid transparent;
            border-top: 3px solid var(--accent-red);
            border-radius: 50%;
            animation: blood-spin 1s linear infinite;
            position: relative;
        }

        .blood-loader::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border: 3px solid transparent;
            border-top: 3px solid var(--blood-red);
            border-radius: 50%;
            animation: blood-spin 2s linear infinite reverse;
        }

        @keyframes blood-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* --- SIMPLE START BOX STYLING --- */
        #simpleStartBox {
            padding: 2.5rem 3rem;
            max-width: 400px;
            background: var(--dark-bg);
            border: 2px solid var(--accent-red);
            box-shadow: 0 0 15px rgba(255, 0, 60, 0.4), inset 0 0 10px rgba(255, 0, 60, 0.1);
            border-radius: 8px;
            text-align: center;
        }
        
        #startButton {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--accent-red);
            color: white;
            border: 3px solid white;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 0, 60, 0.8);
            transition: transform 0.2s, box-shadow 0.5s;
            animation: pulse 2s infinite ease-in-out;
        }

        #startButton:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 0, 60, 1);
        }

        #startButton:active {
            transform: scale(0.95);
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 15px rgba(255, 0, 60, 0.8); }
            50% { box-shadow: 0 0 30px rgba(255, 0, 60, 1.2); }
        }
        
        /* --- QUOTE PANEL STYLING --- */
        .quote-panel {
            width: 95%;
            max-width: 1400px;
            margin: 1rem auto;
            border: 1px solid var(--blood-red);
            background: rgba(10, 5, 5, 0.9);
            box-shadow: inset 0 0 10px rgba(255, 0, 60, 0.2);
            padding: 1.5rem 1rem;
        }
        
        #quoteText {
            min-height: 48px; /* Ensures stability when quote is short */
            transition: opacity 0.5s ease-in-out;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .blood-slideshow {
                width: 98%;
            }
            
            .blood-nav-btn {
                width: 50px;
                height: 50px;
                transform: translateY(-50%) scale(0.8);
            }
            
            #prev-btn { left: -25px; }
            #next-btn { right: -25px; }
            
            .blood-frame {
                inset: 10px;
            }
            
            #simpleStartBox {
                max-width: 90%;
            }
        }
    </style>
</head>
<body class="bg-black">
    <!-- Auto Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <!-- Initial Loading State -->
        <div id="initialLoader" class="flex flex-col items-center justify-center transition-opacity duration-500">
            <div class="blood-loader"></div>
            <div class="decrypt-animation mt-6">
                <span id="decryptText" class="font-tech text-blood-red text-lg">INITIALIZING CLASSIFIED ARCHIVE</span>
                <div class="text-sm text-gray-400 mt-2 font-tech">
                    BDR MASSACRE VISUALS • FEBRUARY 2009
                </div>
            </div>
        </div>
        
        <!-- Simple Start Box (Hidden Initially) -->
        <div id="simpleStartBox" class="flex flex-col items-center justify-center transition-opacity duration-500" style="display: none; opacity: 0;">
             <h2 class="text-3xl font-orbitron text-accent-red mb-10 text-center tracking-wider">INITIATE ARCHIVE ACCESS</h2>
            <button id="startButton">
                <i data-lucide="play" class="w-12 h-12"></i>
            </button>
            <p class="font-tech text-gray-500 text-sm mt-8">Click to honor the memory of the defenders.</p>
        </div>
    </div>
    
    <!-- Visual Effects -->
    <div class="scanlines"></div>
    <div class="noise"></div>
    <div class="blood-overlay"></div>
    
    <!-- Audio Element -->
    <audio id="backgroundAudio" loop preload="auto">
        <source src="https://github.com/radiantrider38/bdr/raw/refs/heads/images/HYDER%20HUSYN%20SONG%20%20%E0%A6%86%E0%A6%AE%E0%A6%BF%20%E0%A6%9A%E0%A6%BF%E0%A7%8E%E0%A6%95%E0%A6%BE%E0%A6%B0%20%E0%A6%95%E0%A6%B0%E0%A7%87%20%E0%A6%95%E0%A6%BE%E0%A6%81%E0%A6%A6%E0%A6%BF%E0%A6%A4%E0%A7%87%20%E0%A6%9A%E0%A6%BE%E0%A6%B9%E0%A6%BF%E0%A7%9F%E0%A6%BE%20%20BDR%20TRAGEDY%20-%20Hyder%20Husyn%20Music%20(youtube).mp3" type="audio/mp3">
    </audio>

    <!-- Header -->
    <header class="sticky top-0 z-50 py-4 blood-header">
        <div class="container mx-auto px-4">
            <div class="flex flex-col items-center relative">
                <div class="mb-3 px-4 py-1 border border-accent-red/30 bg-panel-bg/50 backdrop-blur-sm">
                    <span class="text-xs font-tech text-accent-red tracking-widest flex items-center gap-2">
                        <i data-lucide="shield-alert" class="w-3 h-3"></i>
                        [SECURITY CLEARANCE: MAXIMUM] 
                        <i data-lucide="alert-triangle" class="w-3 h-3 text-accent-red"></i>
                    </span>
                </div>
                
                <h1 class="text-3xl md:text-5xl lg:text-6xl font-orbitron font-black text-center mb-2 blood-glitch">
                    BDR MASSACRE VISUALS
                    <span>BDR MASSACRE VISUALS</span>
                    <span>BDR MASSACRE VISUALS</span>
                </h1>
                
                <div class="text-sm font-rajdhani uppercase tracking-widest text-gray-400 flex items-center gap-2">
                    <span class="h-2 w-2 rounded-full bg-accent-red animate-pulse"></span>
                    CLASSIFIED VISUAL ARCHIVE - 25-27 FEB 2009
                    <span class="h-2 w-2 rounded-full bg-accent-red animate-pulse"></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Slideshow -->
    <main class="flex-1 flex flex-col items-center justify-center py-8 relative z-10">
        <div class="blood-slideshow">
            <div class="slide-container">
                <!-- Slides will be dynamically inserted here -->
            </div>
            
            <button id="prev-btn" class="blood-nav-btn">
                <i data-lucide="chevron-left" class="w-8 h-8"></i>
            </button>
            <button id="next-btn" class="blood-nav-btn">
                <i data-lucide="chevron-right" class="w-8 h-8"></i>
            </button>
        </div>
        
        <!-- Emotional Quote Panel -->
        <div class="quote-panel">
            <div class="font-rajdhani text-center">
                <p id="quoteText" class="text-xl md:text-2xl text-white tracking-wide italic text-accent-red">Initializing Archive...</p>
                <div id="quoteSource" class="text-xs font-tech text-gray-500 mt-2"></div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="py-6 border-t border-blood-red/20 relative z-10">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <div class="mb-3">
                    <div class="inline-block px-4 py-2 bg-panel-bg/50 border border-accent-red/20">
                        <span class="text-xs font-tech text-accent-red tracking-widest">
                            <i data-lucide="eye-off" class="w-3 h-3 inline mr-2"></i>
                            UNAUTHORIZED ACCESS LOGGED AND TRACED
                        </span>
                    </div>
                </div>
                <p class="text-xs font-tech text-gray-600 tracking-wider">
                    VISUAL EVIDENCE ARCHIVE • FEB 2009 • ACCESS: [REDACTED]
                </p>
            </div>
        </div>
    </footer>

    <script>
        const massacreImages = [
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/20093153030127580_10.webp", 
                id: "20093153030127580_10", 
                quote: "In the shadow of betrayal, we remember the 57 officers who made the ultimate sacrifice for the sovereignty of Bangladesh.", 
                source: "Memory of the Nation"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/4067562_5.jpg", 
                id: "4067562_5", 
                quote: "Their last communication was a desperate plea for help. Their legacy is the defense of honor.", 
                source: "A Soldier's Last Stand"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/Bangladesh-mutiny-Mutinou-006.avif", 
                id: "MUTINY-006", 
                quote: "The sight of the armory, once a symbol of protection, became a silent witness to the destruction within.", 
                source: "The Scars of Pilkhana"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/BDR-2009-MUTINY-1-5da7692e8dde94f243ea6d95034ac982.webp", 
                id: "BDR-MUTINY-1", 
                quote: "The Darbar Hall, stained forever, holds the memory of brave souls who faced darkness without flinching.", 
                source: "The Empty Chairs"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/Daily-sun-27-02-2019-1.jpg", 
                id: "DAILY-SUN-27-02-2019-1", 
                quote: "The media may fade, but the truth of the sacrifice burns brighter than any headline.", 
                source: "Eternal Vigil"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/Type_69-IIMk.2g.jpg", 
                id: "TYPE_69-IIMK.2G", 
                quote: "The soldiers stood ready, their discipline a final tribute to their fallen comrades, even as the order to stand down came.", 
                source: "Unwavering Loyalty"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/bdrmtunycmnty.jpg", 
                id: "BDRMUTINYCMNTY", 
                quote: "We mourn the officers who, even in their final moments, stood as the rightful defenders of our motherland.", 
                source: "The Defended Homeland"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/bef6de20-d215-11ee-b83b-0f87a864f372.jpg.webp", 
                id: "BEF6DE20-D215-11EE", 
                quote: "For Commander Shakil and all who fell: their leadership was their promise, and their blood, the cost of duty.", 
                source: "The Burden of Command"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/pilkhana.jpg", 
                id: "PILKHANA", 
                quote: "Pilkhana's walls bear silent witness to a tragedy. Their sacrifice ensures our security and dignity.", 
                source: "The Silent Watch"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/rebel-bdr-men-main-gate-headquarters-pilkhana-440nw-3563934a.jpg", 
                id: "REBEL-BDR-MEN", 
                quote: "The men who protected this ground, their commitment was unbroken, even when faced with overwhelming force.", 
                source: "The True Defenders"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/images/tm-news-748d10ed-5e76-4a5f-8aa1-c0c90b6970c1.jpg", 
                id: "TM-NEWS-748D10ED", 
                quote: "Beyond the confusion of the news, lies the simple, painful truth of loss.", 
                source: "Beyond the Headlines"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/2009226154159581734_3.webp", 
                id: "2009226154159581734_3", 
                quote: "The painstaking search for evidence is a quest for justice owed to the families of the fallen heroes.", 
                source: "The Promise of Justice"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/4847e65bd1e483b19169d015e4b42d5f0bb30f35.webp", 
                id: "4847E65BD1E483B1", 
                quote: "Every trace, every shard, speaks of the violence endured by those who served with honor.", 
                source: "Forensic Testimony"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/Firefighters-and-soldiers-001.avif", 
                id: "FIREFIGHTERS-001", 
                quote: "In the face of tragedy, the nation stood together, bound by shared sorrow and the memory of the officers.", 
                source: "United in Grief"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/bangladeshi-rescue-officials-stand-alongside-four-10-440nw-7926417d.jpg", 
                id: "RESCUE-OFFICIALS", 
                quote: "The recovery phase: where hope gave way to the painful reality of the lives lost.", 
                source: "The Cost of Peace"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/images%20(1).jfif", 
                id: "IMAGES-1-JFIF", 
                quote: "The scars on the perimeter remain, a constant reminder of the day duty turned to disaster.", 
                source: "A Permanent Reminder"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/images.jfif", 
                id: "IMAGES-JFIF", 
                quote: "Structural damage can be repaired, but the damage to the heart of the nation remains profound.", 
                source: "The Unseen Wounds"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/m_id_81095_bdr_mutiny.avif", 
                id: "M_ID_81095", 
                quote: "Justice for the martyrs is slow, but their memory is our sacred vow.", 
                source: "The Vow of the People"
            },
            { 
                url: "https://raw.githubusercontent.com/radiantrider38/bdr/refs/heads/radiantrider38-patch-1/ob_1740455732.jpg", 
                id: "OB_1740455732", 
                quote: "We stand with the families, whose sorrow is the nation's sorrow. Their memory is eternal.", 
                source: "Eternal Memory"
            }
        ];

        // Initialize variables
        let currentSlide = 0;
        let autoSlideInterval;
        const autoAdvanceDelay = 5000;
        const slideContainer = document.querySelector('.slide-container');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const decryptText = document.getElementById('decryptText');
        
        // Elements for interactive start screen and quote panel
        const initialLoader = document.getElementById('initialLoader');
        const simpleStartBox = document.getElementById('simpleStartBox');
        const startButton = document.getElementById('startButton');
        const quoteTextElement = document.getElementById('quoteText');
        const quoteSourceElement = document.getElementById('quoteSource');


        // AUTO START - The loading animation runs first.
        function autoInitialize() {
            const decryptMessages = [
                "ACCESSING SECURE SERVER...",
                "DECRYPTING CLASSIFIED ARCHIVE...",
                "LOADING VISUAL EVIDENCE...",
                "INITIALIZATION COMPLETE. AWAITING USER COMMAND."
            ];
            
            let messageIndex = 0;
            const messageInterval = setInterval(() => {
                if (messageIndex < decryptMessages.length) {
                    decryptText.textContent = decryptMessages[messageIndex];
                    messageIndex++;
                } else {
                    clearInterval(messageInterval);
                    
                    // Show the simple start box after loading sequence
                    setTimeout(() => {
                        // 1. Hide the loader
                        initialLoader.style.opacity = '0';
                        
                        setTimeout(() => {
                            initialLoader.style.display = 'none';
                            
                            // 2. Show the start box
                            simpleStartBox.style.display = 'flex'; 
                            setTimeout(() => {
                                simpleStartBox.style.opacity = '1';
                                lucide.createIcons();
                            }, 50);

                        }, 500); // Wait for opacity transition
                    }, 1000);
                }
            }, 600);
        }

        // Function triggered by the START button click
        function startArchive() {
            const audio = document.getElementById('backgroundAudio');
            
            // Set audio properties and play (relying on user click gesture)
            audio.currentTime = 14; 
            audio.muted = false; 
            audio.volume = 0.3;
            
            const playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.catch((e) => {
                    console.error("Unmuted audio start failed:", e);
                });
            }

            // Fade out the entire overlay and start the slideshow
            loadingOverlay.style.opacity = '0';
            setTimeout(() => {
                loadingOverlay.style.display = 'none';
                startAutoSlide(); // Start the slideshow
            }, 500);
        }

        // Create slides
        function renderSlides() {
            massacreImages.forEach((file, index) => {
                const slideDiv = document.createElement('div');
                slideDiv.className = 'blood-slide';
                slideDiv.setAttribute('data-id', file.id);
                slideDiv.setAttribute('data-index', index);
                
                const frameDiv = document.createElement('div');
                frameDiv.className = 'blood-frame';
                
                const img = document.createElement('img');
                img.className = 'slide-image';
                img.src = file.url;
                img.alt = file.quote;
                img.loading = 'lazy';
                
                frameDiv.appendChild(img);
                slideDiv.appendChild(frameDiv);
                slideContainer.appendChild(slideDiv);
            });
            
            // Initialize first slide
            slideContainer.children[0].classList.add('active');
            updateQuotePanel();
        }

        // Slide transition
        function transitionSlide(newIndex, direction = 'next') {
            const oldSlide = slideContainer.children[currentSlide];
            const newSlide = slideContainer.children[newIndex];
            
            if (!oldSlide || !newSlide) return;
            
            oldSlide.classList.remove('active');
            newSlide.classList.add('active');
            
            currentSlide = newIndex;
            updateQuotePanel();
        }

        function nextSlide() {
            const nextIndex = (currentSlide + 1) % massacreImages.length;
            transitionSlide(nextIndex, 'next');
        }

        function prevSlide() {
            const prevIndex = (currentSlide - 1 + massacreImages.length) % massacreImages.length;
            transitionSlide(prevIndex, 'prev');
        }

        function startAutoSlide() {
            if (autoSlideInterval) clearInterval(autoSlideInterval);
            autoSlideInterval = setInterval(nextSlide, autoAdvanceDelay);
        }

        function stopAutoSlide() {
            if (autoSlideInterval) clearInterval(autoSlideInterval);
        }

        // Update quote panel display
        function updateQuotePanel() {
            const file = massacreImages[currentSlide];
            
            // Fade out text first
            quoteTextElement.style.opacity = '0';
            quoteSourceElement.style.opacity = '0';

            setTimeout(() => {
                // Update content
                quoteTextElement.textContent = `"${file.quote}"`;
                quoteSourceElement.textContent = `— ${file.source}`;
                
                // Fade in text
                quoteTextElement.style.opacity = '1';
                quoteSourceElement.style.opacity = '1';
            }, 300); // Match this delay to the CSS transition time for a smooth fade
        }
        
        // Initialize everything
        window.onload = function() {
            lucide.createIcons();
            renderSlides();
            
            // Start loading sequence
            setTimeout(autoInitialize, 100);
            
            // Attach Start Button Listener
            startButton.addEventListener('click', startArchive);

            // Event Listeners for manual control
            document.getElementById('next-btn').addEventListener('click', () => {
                nextSlide();
                stopAutoSlide();
                startAutoSlide();
            });
            
            document.getElementById('prev-btn').addEventListener('click', () => {
                prevSlide();
                stopAutoSlide();
                startAutoSlide();
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                switch(e.key) {
                    case 'ArrowRight':
                    case ' ':
                        nextSlide();
                        stopAutoSlide();
                        startAutoSlide();
                        break;
                    case 'ArrowLeft':
                        prevSlide();
                        stopAutoSlide();
                        startAutoSlide();
                        break;
                }
            });
            
            // Touch/swipe support
            let touchStartX = 0;
            let touchEndX = 0;
            
            slideContainer.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            slideContainer.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const difference = touchStartX - touchEndX;
                
                if (Math.abs(difference) > swipeThreshold) {
                    if (difference > 0) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                    stopAutoSlide();
                    startAutoSlide();
                }
            }
        };
    </script>
</body>
</html>
